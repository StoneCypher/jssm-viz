{"version":3,"file":"jssm-viz.cjs.js","sources":["../src/ts/jssm-viz.ts"],"sourcesContent":["\r\n//import vizjs from 'viz.js';\r\n// const { Module, render } = require('viz.js/lite.render.js');\r\n\r\n\r\n\r\n\r\nconst default_viz_colors = {\r\n\r\n  'graph_bg_color'       : '#eeeeee',\r\n\r\n  'fill_final'           : '#ddddff',\r\n  'fill_terminal'        : '#ffdddd',\r\n  'fill_complete'        : '#ddffdd',\r\n\r\n\r\n  'legal_1'              : '#888888',\r\n  'legal_2'              : '#777777',\r\n  'legal_solo'           : '#777777',\r\n\r\n  'legal_final_1'        : '#7777aa',\r\n  'legal_final_2'        : '#666699',\r\n  'legal_final_solo'     : '#666699',\r\n\r\n  'legal_terminal_1'     : '#aa7777',\r\n  'legal_terminal_2'     : '#996666',\r\n  'legal_terminal_solo'  : '#996666',\r\n\r\n  'legal_complete_1'     : '#77aa77',\r\n  'legal_complete_2'     : '#669966',\r\n  'legal_complete_solo'  : '#669966',\r\n\r\n\r\n  'main_1'               : '#444444',\r\n  'main_2'               : '#333333',\r\n  'main_solo'            : '#333333',\r\n\r\n  'main_final_1'         : '#333366',\r\n  'main_final_2'         : '#222255',\r\n  'main_final_solo'      : '#222255',\r\n\r\n  'main_terminal_1'      : '#663333',\r\n  'main_terminal_2'      : '#552222',\r\n  'main_terminal_solo'   : '#552222',\r\n\r\n  'main_complete_1'      : '#336633',\r\n  'main_complete_2'      : '#225522',\r\n  'main_complete_solo'   : '#225522',\r\n\r\n\r\n  'forced_1'             : '#cccccc',\r\n  'forced_2'             : '#bbbbbb',\r\n  'forced_solo'          : '#bbbbbb',\r\n\r\n  'forced_final_1'       : '#bbbbee',\r\n  'forced_final_2'       : '#aaaadd',\r\n  'forced_final_solo'    : '#aaaadd',\r\n\r\n  'forced_terminal_1'    : '#eebbbb',\r\n  'forced_terminal_2'    : '#ddaaaa',\r\n  'forced_terminal_solo' : '#ddaaaa',\r\n\r\n  'forced_complete_1'    : '#bbeebb',\r\n  'forced_complete_2'    : '#aaddaa',\r\n  'forced_complete_solo' : '#aaddaa',\r\n\r\n\r\n  'text_final_1'         : '#000088',\r\n  'text_final_2'         : '#000088',\r\n  'text_final_solo'      : '#000088',\r\n\r\n  'text_terminal_1'      : '#880000',\r\n  'text_terminal_2'      : '#880000',\r\n  'text_terminal_solo'   : '#880000',\r\n\r\n  'text_complete_1'      : '#007700',\r\n  'text_complete_2'      : '#007700',\r\n  'text_complete_solo'   : '#007700'\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// apparently this is how you get at global.Viz\r\n// declare var Viz: Function;\r\n\r\nfunction dot_to_svg(dot: string, config? : Object): string {  // whargarbl jssm isn't an any\r\n//  return vizjs(dot, config);\r\n  // if (Viz) {\r\n  //   return Viz(dot, config);\r\n  // }\r\n  throw new TypeError('No global viz');\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction svg_el(dot: string, config? : Object): Document {\r\n  return new DOMParser().parseFromString( dot_to_svg(dot, config), 'text/html' );\r\n}\r\n\r\n\r\n\r\n\r\n/* todo\r\nfunction png_el(dot: string, config? : Object): HTMLImageElement {  // whargarbl jssm isn't an any // whargarbl should return an image element, not a string\r\n  var cfg = Object.assign({}, config, { format: \"png-image-element\" });\r\n//  return vizjs(dot, cfg);\r\nreturn 'todo';\r\n}\r\n*/\r\n\r\n\r\n\r\n\r\n\r\nfunction dot(jssm: any) {  // whargarbl jssm isn't an any\r\n\r\n  const l_states = jssm.states();\r\n\r\n  const node_of  = state => `n${l_states.indexOf(state)}`,\r\n        vc       = col   => ( default_viz_colors[col] || '' );  // todo make these configurable\r\n\r\n  const nodes : string = l_states.map( (s) => {\r\n\r\n    const this_state = jssm.state_for(s),\r\n          terminal   = jssm.state_is_terminal(s),\r\n          final      = jssm.state_is_final(s),\r\n          complete   = jssm.state_is_complete(s),\r\n          features   = [\r\n                        ['label',       s],\r\n                        ['peripheries', complete? 2 : 1  ],\r\n                        ['fillcolor',   final   ? vc('fill_final')    :\r\n                                       (complete? vc('fill_complete') :\r\n                                       (terminal? vc('fill_terminal') :\r\n                                                  '')) ]\r\n                       ]\r\n                        .filter(r => r[1])\r\n                        .map(   r => `${r[0]}=\"${r[1]}\"`)\r\n                        .join(' ');\r\n    return `${node_of(s)} [${features}];`;\r\n\r\n  }).join(' ');\r\n\r\n  const strike = [];\r\n\r\n  const edges  = jssm.states().map( (s) =>\r\n\r\n    jssm.list_exits(s).map( (ex) => {\r\n\r\n      if ( strike.find(row => (row[0] === s) && (row[1] == ex) ) ) {\r\n          return '';  // already did the pair\r\n      }\r\n\r\n      const doublequote    = txt => txt.replace('\"', '\\\\\"');\r\n\r\n      const edge           = jssm.list_transitions(s, ex),\r\n            edge_id        = jssm.get_transition_by_state_names(s, ex),\r\n            edge_tr        = jssm.lookup_transition_for(s, ex),\r\n            pair           = jssm.list_transitions(ex, s),\r\n            pair_id        = jssm.get_transition_by_state_names(ex, s),\r\n            pair_tr        = jssm.lookup_transition_for(ex, s),\r\n            double         = pair_id && (s !== ex),\r\n\r\n            head_state     = jssm.state_for(s),\r\n            tail_state     = jssm.state_for(ex),\r\n\r\n            nlJoinIfAny    = items => items.filter(item => !([undefined, ''].includes(item))).join('\\n'),\r\n\r\n            if_obj_field   = (obj, field) => obj? (obj[field] || '') : '',\r\n\r\n            h_final        = jssm.state_is_final(s),\r\n            h_complete     = jssm.state_is_complete(s),\r\n            h_terminal     = jssm.state_is_terminal(s),\r\n\r\n            t_final        = jssm.state_is_final(ex),\r\n            t_complete     = jssm.state_is_complete(ex),\r\n            t_terminal     = jssm.state_is_terminal(ex),\r\n\r\n            lineColor      = (final, complete, terminal, lkind, _solo_1_2 = '_solo') =>\r\n                               final   ? (vc(`${lkind}_final`    + _solo_1_2)) :\r\n                              (complete? (vc(`${lkind}_complete` + _solo_1_2)) :\r\n                              (terminal? (vc(`${lkind}_terminal` + _solo_1_2)) :\r\n                                          vc(`${lkind}`          + _solo_1_2))),\r\n\r\n            textColor      = (final, complete, terminal, _solo_1_2 = '_solo') : string =>\r\n                               final   ? (vc('text_final'    + _solo_1_2)) :\r\n                              (complete? (vc('text_complete' + _solo_1_2)) :\r\n                              (terminal? (vc('text_terminal' + _solo_1_2)) :\r\n                                         '')),\r\n\r\n            headColor      = textColor(h_final, h_complete, h_terminal, double? '_1' : '_solo'),\r\n            tailColor      = textColor(t_final, t_complete, t_terminal, double? '_2' : '_solo'),\r\n\r\n            labelInline    = [\r\n//                             [edge, 'name',        'label',     true],\r\n                               [pair, 'probability', 'headlabel', 'name', 'action', double, headColor],\r\n                               [edge, 'probability', 'taillabel', 'name', 'action', true,   tailColor]\r\n                             ]\r\n                             .map(    r       => ({ which: r[2], whether: (r[5]? ([(if_obj_field(r[0], r[5])), (if_obj_field(r[0], r[1])), (if_obj_field(r[0], r[3]))].filter(q=>q).join('<br/>') || '') : ''), color: r[6] }) )\r\n                             .filter( present => present.whether )\r\n                             .map(    r       => `${r.which}=${(r.color)? `<<font color=\"${(r.color)}\">${(r.whether)}</font>>` : `\"${(r.whether)}\"`};`)\r\n                             .join(' '),\r\n\r\n//          label          = edge_tr ? ( nlJoinIfAny([edge_tr.action, edge_tr.probability]) ) : undefined,\r\n            label          = edge_tr ? ([`${((edge_tr.action || ''))}`,`${((edge_tr.probability || ''))}`]\r\n                                          .filter(not_empty => not_empty !== '')\r\n                                          .join('\\n') || undefined\r\n                                       ) : undefined,\r\n\r\n            maybeLabel     = label? `taillabel=\"${doublequote(label)}\";` : '',\r\n\r\n            rlabel         = pair_tr ? ([`${((pair_tr.action || ''))}`,`${((pair_tr.probability || ''))}`]\r\n                                     .filter(not_empty => not_empty !== '')\r\n                                       .join('\\n') || undefined\r\n                                      ) : undefined,\r\n\r\n            maybeRLabel    = rlabel? `headlabel=\"${doublequote(rlabel)}\";` : '',\r\n\r\n            tc1            = lineColor(t_final, t_complete, t_terminal, edge_tr.kind,       '_1'),\r\n            tc2            = lineColor(h_final, h_complete, h_terminal, (pair_tr||{}).kind, '_2'),\r\n            tcd            = lineColor(t_final, t_complete, t_terminal, edge_tr.kind,       '_solo'),\r\n\r\n            arrowHead      =           edge_tr.forced_only? 'ediamond' : (edge_tr.main_path? 'normal;weight=5' : 'empty'),\r\n            arrowTail      = pair_tr? (pair_tr.forced_only? 'ediamond' : (pair_tr.main_path? 'normal;weight=5' : 'empty')) : '',\r\n\r\n            edgeInline     = edge  ? (double? `${maybeLabel}${maybeRLabel}arrowhead=${arrowHead};arrowtail=${arrowTail};dir=both;color=\"${tc1}:${tc2}\"`\r\n                                            : `${maybeLabel}arrowhead=${arrowHead};color=\"${tcd}\"`)\r\n                                   : '';\r\n\r\n      if (pair) { strike.push([ex, s]); }\r\n\r\n      return `${node_of(s)}->${node_of(ex)} [${labelInline}${edgeInline}];`;\r\n\r\n    }).join(' ')\r\n\r\n  ).join(' ');\r\n\r\n  // todo lol just do this right, jerk\r\n//  let MaybeRankDir = window? (window.lrGViz? 'rankdir=LR;' : '') : '';\r\n  let MaybeRankDir = 'rankdir=LR;';\r\n\r\n  return `digraph G {\\n${MaybeRankDir}  fontname=\"Open Sans\";\\n  style=filled;\\n  bgcolor=\"${vc('graph_bg_color')}\";\\n  node [fontsize=14; shape=box; style=filled; fillcolor=white; fontname=\"Times New Roman\"];\\n  edge [fontsize=6;fontname=\"Open Sans\"];\\n\\n  ${nodes}\\n\\n  ${edges}\\n}`;\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport { dot, dot_to_svg, svg_el /*, todo png_el */ /*, vizjs todo */ };\r\n"],"names":[],"mappings":";;;;AAOA,MAAM,kBAAkB,GAAG;IAEzB,gBAAgB,EAAS,SAAS;IAElC,YAAY,EAAa,SAAS;IAClC,eAAe,EAAU,SAAS;IAClC,eAAe,EAAU,SAAS;IAGlC,SAAS,EAAgB,SAAS;IAClC,SAAS,EAAgB,SAAS;IAClC,YAAY,EAAa,SAAS;IAElC,eAAe,EAAU,SAAS;IAClC,eAAe,EAAU,SAAS;IAClC,kBAAkB,EAAO,SAAS;IAElC,kBAAkB,EAAO,SAAS;IAClC,kBAAkB,EAAO,SAAS;IAClC,qBAAqB,EAAI,SAAS;IAElC,kBAAkB,EAAO,SAAS;IAClC,kBAAkB,EAAO,SAAS;IAClC,qBAAqB,EAAI,SAAS;IAGlC,QAAQ,EAAiB,SAAS;IAClC,QAAQ,EAAiB,SAAS;IAClC,WAAW,EAAc,SAAS;IAElC,cAAc,EAAW,SAAS;IAClC,cAAc,EAAW,SAAS;IAClC,iBAAiB,EAAQ,SAAS;IAElC,iBAAiB,EAAQ,SAAS;IAClC,iBAAiB,EAAQ,SAAS;IAClC,oBAAoB,EAAK,SAAS;IAElC,iBAAiB,EAAQ,SAAS;IAClC,iBAAiB,EAAQ,SAAS;IAClC,oBAAoB,EAAK,SAAS;IAGlC,UAAU,EAAe,SAAS;IAClC,UAAU,EAAe,SAAS;IAClC,aAAa,EAAY,SAAS;IAElC,gBAAgB,EAAS,SAAS;IAClC,gBAAgB,EAAS,SAAS;IAClC,mBAAmB,EAAM,SAAS;IAElC,mBAAmB,EAAM,SAAS;IAClC,mBAAmB,EAAM,SAAS;IAClC,sBAAsB,EAAG,SAAS;IAElC,mBAAmB,EAAM,SAAS;IAClC,mBAAmB,EAAM,SAAS;IAClC,sBAAsB,EAAG,SAAS;IAGlC,cAAc,EAAW,SAAS;IAClC,cAAc,EAAW,SAAS;IAClC,iBAAiB,EAAQ,SAAS;IAElC,iBAAiB,EAAQ,SAAS;IAClC,iBAAiB,EAAQ,SAAS;IAClC,oBAAoB,EAAK,SAAS;IAElC,iBAAiB,EAAQ,SAAS;IAClC,iBAAiB,EAAQ,SAAS;IAClC,oBAAoB,EAAK,SAAS;CAEnC,CAAA;AASD,SAAS,UAAU,CAAC,GAAW,EAAE,MAAgB;IAK/C,MAAM,IAAI,SAAS,CAAC,eAAe,CAAC,CAAC;CACtC;AAMD,SAAS,MAAM,CAAC,GAAW,EAAE,MAAgB;IAC3C,OAAO,IAAI,SAAS,EAAE,CAAC,eAAe,CAAE,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,EAAE,WAAW,CAAE,CAAC;CAChF;AAiBD,SAAS,GAAG,CAAC,IAAS;IAEpB,MAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;IAE/B,MAAM,OAAO,GAAI,KAAK,IAAI,IAAI,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,EACjD,EAAE,GAAS,GAAG,KAAQ,kBAAkB,CAAC,GAAG,CAAC,IAAI,EAAE,CAAE,CAAC;IAE5D,MAAM,KAAK,GAAY,QAAQ,CAAC,GAAG,CAAE,CAAC,CAAC;QAErC,MAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAC9B,QAAQ,GAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EACtC,KAAK,GAAQ,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,EACnC,QAAQ,GAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EACtC,QAAQ,GAAK;YACC,CAAC,OAAO,EAAQ,CAAC,CAAC;YAClB,CAAC,aAAa,EAAE,QAAQ,GAAE,CAAC,GAAG,CAAC,CAAG;YAClC,CAAC,WAAW,EAAI,KAAK,GAAK,EAAE,CAAC,YAAY,CAAC;qBAC1B,QAAQ,GAAE,EAAE,CAAC,eAAe,CAAC;yBAC7B,QAAQ,GAAE,EAAE,CAAC,eAAe,CAAC;4BACnB,EAAE,CAAC,CAAC,CAAE;SAChC;aACC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aACjB,GAAG,CAAI,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;aAChC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC/B,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,CAAC;KAEvC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAEb,MAAM,MAAM,GAAG,EAAE,CAAC;IAElB,MAAM,KAAK,GAAI,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,CAAE,CAAC,CAAC,KAElC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,GAAG,CAAE,CAAC,EAAE;QAEzB,IAAK,MAAM,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAE,EAAG;YACzD,OAAO,EAAE,CAAC;SACb;QAED,MAAM,WAAW,GAAM,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;QAEtD,MAAM,IAAI,GAAa,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,EAAE,CAAC,EAC7C,OAAO,GAAU,IAAI,CAAC,6BAA6B,CAAC,CAAC,EAAE,EAAE,CAAC,EAC1D,OAAO,GAAU,IAAI,CAAC,qBAAqB,CAAC,CAAC,EAAE,EAAE,CAAC,EAClD,IAAI,GAAa,IAAI,CAAC,gBAAgB,CAAC,EAAE,EAAE,CAAC,CAAC,EAC7C,OAAO,GAAU,IAAI,CAAC,6BAA6B,CAAC,EAAE,EAAE,CAAC,CAAC,EAC1D,OAAO,GAAU,IAAI,CAAC,qBAAqB,CAAC,EAAE,EAAE,CAAC,CAAC,EAClD,MAAM,GAAW,OAAO,KAAK,CAAC,KAAK,EAAE,CAAC,EAEtC,UAAU,GAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAClC,UAAU,GAAO,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAEnC,AAEA,YAAY,GAAK,CAAC,GAAG,EAAE,KAAK,KAAK,GAAG,IAAG,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,EAE7D,OAAO,GAAU,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,EACvC,UAAU,GAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAC1C,UAAU,GAAO,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAE1C,OAAO,GAAU,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,EACxC,UAAU,GAAO,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,EAC3C,UAAU,GAAO,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,EAE3C,SAAS,GAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,GAAG,OAAO,KACpD,KAAK,IAAM,EAAE,CAAC,GAAG,KAAK,QAAQ,GAAM,SAAS,CAAC;aAC9C,QAAQ,IAAG,EAAE,CAAC,GAAG,KAAK,WAAW,GAAG,SAAS,CAAC;iBAC9C,QAAQ,IAAG,EAAE,CAAC,GAAG,KAAK,WAAW,GAAG,SAAS,CAAC;oBACnC,EAAE,CAAC,GAAG,KAAK,EAAE,GAAY,SAAS,CAAC,CAAC,CAAC,EAEnE,SAAS,GAAQ,CAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,GAAG,OAAO,KAC7C,KAAK,IAAM,EAAE,CAAC,YAAY,GAAM,SAAS,CAAC;aAC1C,QAAQ,IAAG,EAAE,CAAC,eAAe,GAAG,SAAS,CAAC;iBAC1C,QAAQ,IAAG,EAAE,CAAC,eAAe,GAAG,SAAS,CAAC;oBAChC,EAAE,CAAC,CAAC,EAEjC,SAAS,GAAQ,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,GAAE,IAAI,GAAG,OAAO,CAAC,EACnF,SAAS,GAAQ,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,MAAM,GAAE,IAAI,GAAG,OAAO,CAAC,EAEnF,WAAW,GAAM;YAEE,CAAC,IAAI,EAAE,aAAa,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,SAAS,CAAC;YACvE,CAAC,IAAI,EAAE,aAAa,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAI,SAAS,CAAC;SACxE;aACA,GAAG,CAAK,CAAC,KAAW,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,IAAG,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAE;aAClM,MAAM,CAAE,OAAO,IAAI,OAAO,CAAC,OAAO,CAAE;aACpC,GAAG,CAAK,CAAC,IAAU,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,KAAK,IAAG,kBAAkB,CAAC,CAAC,KAAK,OAAO,CAAC,CAAC,OAAO,WAAW,GAAG,KAAK,CAAC,CAAC,OAAO,IAAI,GAAG,CAAC;aACzH,IAAI,CAAC,GAAG,CAAC,EAG3B,KAAK,GAAY,OAAO,IAAI,CAAC,KAAK,OAAO,CAAC,MAAM,IAAI,EAAE,IAAI,EAAC,KAAK,OAAO,CAAC,WAAW,IAAI,EAAE,IAAI,CAAC;aAC/D,MAAM,CAAC,SAAS,IAAI,SAAS,KAAK,EAAE,CAAC;aACrC,IAAI,CAAC,IAAI,CAAC,IAAI,SAAS,IACvB,SAAS,EAExC,UAAU,GAAO,KAAK,GAAE,cAAc,WAAW,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,EAEjE,MAAM,GAAW,OAAO,IAAI,CAAC,KAAK,OAAO,CAAC,MAAM,IAAI,EAAE,IAAI,EAAC,KAAK,OAAO,CAAC,WAAW,IAAI,EAAE,IAAI,CAAC;aACpE,MAAM,CAAC,SAAS,IAAI,SAAS,KAAK,EAAE,CAAC;aACnC,IAAI,CAAC,IAAI,CAAC,IAAI,SAAS,IACrB,SAAS,EAEvC,WAAW,GAAM,MAAM,GAAE,cAAc,WAAW,CAAC,MAAM,CAAC,IAAI,GAAG,EAAE,EAEnE,GAAG,GAAc,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,EAAQ,IAAI,CAAC,EACrF,GAAG,GAAc,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,OAAO,IAAE,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,EACrF,GAAG,GAAc,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU,EAAE,OAAO,CAAC,IAAI,EAAQ,OAAO,CAAC,EAExF,SAAS,GAAkB,OAAO,CAAC,WAAW,GAAE,UAAU,IAAI,OAAO,CAAC,SAAS,GAAE,iBAAiB,GAAG,OAAO,CAAC,EAC7G,SAAS,GAAQ,OAAO,IAAG,OAAO,CAAC,WAAW,GAAE,UAAU,IAAI,OAAO,CAAC,SAAS,GAAE,iBAAiB,GAAG,OAAO,CAAC,IAAI,EAAE,EAEnH,UAAU,GAAO,IAAI,IAAK,MAAM,GAAE,GAAG,UAAU,GAAG,WAAW,aAAa,SAAS,cAAc,SAAS,oBAAoB,GAAG,IAAI,GAAG,GAAG;cACzG,GAAG,UAAU,aAAa,SAAS,WAAW,GAAG,GAAG;cAC7D,EAAE,CAAC;QAElC,IAAI,IAAI,EAAE;YAAE,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;SAAE;QAEnC,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC,EAAE,CAAC,KAAK,WAAW,GAAG,UAAU,IAAI,CAAC;KAEvE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAEb,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAIZ,IAAI,YAAY,GAAG,aAAa,CAAC;IAEjC,OAAO,gBAAgB,YAAY,wDAAwD,EAAE,CAAC,gBAAgB,CAAC,mJAAmJ,KAAK,SAAS,KAAK,KAAK,CAAC;CAE5R;;;;;;"}